!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.lchColorUtils=n():t.lchColorUtils=n()}(this,(()=>(()=>{var t={55:(t,n,r)=>{const o=r(430),e=[.3457/.3585,1,.2958/.3585];function a(t){return t.map((function(t){let n=t<0?-1:1,r=Math.abs(t);return r<.04045?t/12.92:n*Math.pow((r+.055)/1.055,2.4)}))}function u(t){return t.map((function(t){let n=t<0?-1:1,r=Math.abs(t);return r>.0031308?n*(1.055*Math.pow(r,1/2.4)-.055):12.92*t}))}function i(t,n,r){return t.map(((t,o)=>t*(r===o?1:n)))}t.exports={lin_sRGB:a,gam_sRGB:u,lin_sRGB_to_XYZ:function(t){return o([[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],t)},XYZ_to_lin_sRGB:function(t){return o([[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],t)},lin_P3:function(t){return a(t)},gam_P3:function(t){return u(t)},lin_P3_to_XYZ:function(t){return o([[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],t)},XYZ_to_lin_P3:function(t){return o([[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],t)},lin_ProPhoto:function(t){return t.map((function(t){let n=t<0?-1:1;return Math.abs(t)<=.03125?t/16:n*Math.pow(t,1.8)}))},gam_ProPhoto:function(t){return t.map((function(t){let n=t<0?-1:1,r=Math.abs(t);return r>=.001953125?n*Math.pow(r,1/1.8):16*t}))},lin_ProPhoto_to_XYZ:function(t){return o([[.7977604896723027,.13518583717574031,.0313493495815248],[.2880711282292934,.7118432178101014,8565396060525902e-20],[0,0,.8251046025104601]],t)},XYZ_to_lin_ProPhoto:function(t){return o([[1.3457989731028281,-.25558010007997534,-.05110628506753401],[-.5446224939028347,1.5082327413132781,.02053603239147973],[0,0,1.2119675456389454]],t)},lin_a98rgb:function(t){return t.map((function(t){let n=t<0?-1:1,r=Math.abs(t);return n*Math.pow(r,563/256)}))},gam_a98rgb:function(t){return t.map((function(t){let n=t<0?-1:1,r=Math.abs(t);return n*Math.pow(r,256/563)}))},lin_a98rgb_to_XYZ:function(t){return o([[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],t)},XYZ_to_lin_a98rgb:function(t){return o([[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]],t)},lin_2020:function(t){const n=1.09929682680944;return t.map((function(t){let r=t<0?-1:1,o=Math.abs(t);return o<.08124285829863151?t/4.5:r*Math.pow((o+n-1)/n,1/.45)}))},gam_2020:function(t){const n=1.09929682680944;return t.map((function(t){let r=t<0?-1:1,o=Math.abs(t);return o>.018053968510807?r*(n*Math.pow(o,.45)-(n-1)):4.5*t}))},lin_2020_to_XYZ:function(t){return o([[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],t)},XYZ_to_lin_2020:function(t){return o([[1.7166511879712674,-.35567078377639233,-.25336628137365974],[-.6666843518324892,1.6164812366349395,.01576854581391113],[.017639857445310783,-.042770613257808524,.9421031212354738]],t)},D65_to_D50:function(t){return o([[1.0479298208405488,.022946793341019088,-.05019222954313557],[.029627815688159344,.990434484573249,-.01707382502938514],[-.009243058152591178,.015055144896577895,.7518742899580008]],t)},D50_to_D65:function(t){return o([[.9554734527042182,-.023098536874261423,.0632593086610217],[-.028369706963208136,1.0099954580058226,.021041398966943008],[.012314001688319899,-.020507696433477912,1.3303659366080753]],t)},XYZ_to_Lab:function(t){var n=t.map(((t,n)=>t/e[n])).map((t=>t>.008856451679035631?Math.cbrt(t):(903.2962962962963*t+16)/116));return[116*n[1]-16,500*(n[0]-n[1]),200*(n[1]-n[2])]},Lab_to_XYZ:function(t){var n=24389/27,r=216/24389,o=[];return o[1]=(t[0]+16)/116,o[0]=t[1]/500+o[1],o[2]=o[1]-t[2]/200,[Math.pow(o[0],3)>r?Math.pow(o[0],3):(116*o[0]-16)/n,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/n,Math.pow(o[2],3)>r?Math.pow(o[2],3):(116*o[2]-16)/n].map(((t,n)=>t*e[n]))},Lab_to_LCH:function(t){var n=180*Math.atan2(t[2],t[1])/Math.PI;return[t[0],Math.sqrt(Math.pow(t[1],2)+Math.pow(t[2],2)),n>=0?n:n+360]},LCH_to_Lab:function(t){return[t[0],t[1]*Math.cos(t[2]*Math.PI/180),t[1]*Math.sin(t[2]*Math.PI/180)]},XYZ_to_OKLab:function(t){var n=o([[.8190224432164319,.3619062562801221,-.12887378261216414],[.0329836671980271,.9292868468965546,.03614466816999844],[.048177199566046255,.26423952494422764,.6335478258136937]],t);return o([[.2104542553,.793617785,-.0040720468],[1.9779984951,-2.428592205,.4505937099],[.0259040371,.7827717662,-.808675766]],n.map((t=>Math.cbrt(t))))},OKLab_to_XYZ:function(t){var n=o([[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]],t);return o([[1.2268798733741557,-.5578149965554813,.28139105017721583],[-.04057576262431372,1.1122868293970594,-.07171106666151701],[-.07637294974672142,-.4214933239627914,1.5869240244272418]],n.map((t=>t**3)))},OKLab_to_OKLCH:function(t){var n=180*Math.atan2(t[2],t[1])/Math.PI;return[t[0],Math.sqrt(t[1]**2+t[2]**2),n>=0?n:n+360]},OKLCH_to_OKLab:function(t){return[t[0],t[1]*Math.cos(t[2]*Math.PI/180),t[1]*Math.sin(t[2]*Math.PI/180)]},rectangular_premultiply:function(t,n){return t.map((t=>t*n))},rectangular_un_premultiply:function(t,n){return 0===n?t:t.map((t=>t/n))},polar_premultiply:i,polar_un_premultiply:function(t,n,r){return 0===n?t:t.map(((t,o)=>t/(r===o?1:n)))},hsl_premultiply:function(t,n){return i(t,n,0)}}},430:t=>{t.exports=function(t,n){let r=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(n[0])||(n=n.map((t=>[t])));let o=n[0].length,e=n[0].map(((t,r)=>n.map((t=>t[r])))),a=t.map((t=>e.map((n=>Array.isArray(t)?t.reduce(((t,r,o)=>t+r*(n[o]||0)),0):n.reduce(((n,r)=>n+r*t),0)))));return 1===r&&(a=a[0]),1===o?a.map((t=>t[0])):a}},287:(t,n,r)=>{const{gam_sRGB:o,XYZ_to_lin_sRGB:e,D50_to_D65:a,Lab_to_XYZ:u,LCH_to_Lab:i}=r(55);t.exports={LCH_to_sRGB:function(t){return o(e(a(u(i(t)))))}}}},n={};function r(o){var e=n[o];if(void 0!==e)return e.exports;var a=n[o]={exports:{}};return t[o](a,a.exports,r),a.exports}r.d=(t,n)=>{for(var o in n)r.o(n,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},r.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{"use strict";r.r(o),r.d(o,{lchToHex:()=>c,lchToRgb:()=>_});var t=r(287),n=function(){return n=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++)for(var e in n=arguments[r])Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t},n.apply(this,arguments)},e={l:0,c:0,h:0,a:100,forceinGamut:!0,isPrecise:!1};function a(n,r,o){var e=(0,t.LCH_to_sRGB)([+n,+r,+o]),a=5e-6;return e.reduce((function(t,n){return t&&n>=0-a&&n<=1+a}),!0)}function u(t){var n=Math.round(255*t/100);return t<7?"0"+n.toString(16).toUpperCase():n.toString(16).toUpperCase()}function i(r){var o=n(n({},e),r),u={l:o.l,c:o.c,h:o.h};if(o.forceinGamut){var i=function(t,n,r,o){if(o(t,n,r))return{l:t,c:n,h:r,isWithinLch:!0};var e=n,a=0;for(n/=2;e-a>1e-4;)o(t,n,r)?a=n:e=n,n=(e+a)/2;return{l:t,c:n,h:r,isWithinLch:!1}}(o.l,o.c,o.h,a);u=n(n({},u),i)}return{value:(0,t.LCH_to_sRGB)([o.l,o.c,o.h]).map((function(t){return function(t,n){void 0===n&&(n=!0);var r=Math.round(1e4*t)/100;return n?r:Math.round(r)}(t,o.isPrecise)})),isWithinSRGB:u.isWithinLch}}function c(t){var n=i(t),r=u(n.value[0]),o=u(n.value[1]),e=u(n.value[2]);return{value:"#".concat(r).concat(o).concat(e),alpha:t.a}}function _(t){var n,r=i(t),o="rgb("+r.value.map((function(t){return"".concat(t,"%")})).join(" ")+(void 0===(n=t.a)&&(n=100),(n<100?" / ".concat(n,"%"):"")+")");return{value:r.value,string:o}}})(),o})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Oi8vbGNoQ29sb3JVdGlscy93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vbGNoQ29sb3JVdGlscy8uL3NyYy9kcmFmdHMuY3Nzd2cub3JnL2NvbnZlcnNpb25zLmpzIiwid2VicGFjazovL2xjaENvbG9yVXRpbHMvLi9zcmMvZHJhZnRzLmNzc3dnLm9yZy9tdWx0aXBseS1tYXRyaWNlcy5qcyIsIndlYnBhY2s6Ly9sY2hDb2xvclV0aWxzLy4vc3JjL2RyYWZ0cy5jc3N3Zy5vcmcvdXRpbGl0aWVzLmpzIiwid2VicGFjazovL2xjaENvbG9yVXRpbHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbGNoQ29sb3JVdGlscy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vbGNoQ29sb3JVdGlscy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2xjaENvbG9yVXRpbHMvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9sY2hDb2xvclV0aWxzLy4vc3JjL2xpYnMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wibGNoQ29sb3JVdGlsc1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJsY2hDb2xvclV0aWxzXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgKCkgPT4ge1xucmV0dXJuICIsIi8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtY29sb3ItNC9jb252ZXJzaW9ucy5qc1xuLyogZXNsaW50LWRpc2FibGUgbm8tbG9zcy1vZi1wcmVjaXNpb24gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5cbmNvbnN0IG11bHRpcGx5TWF0cmljZXMgPSByZXF1aXJlKCcuL211bHRpcGx5LW1hdHJpY2VzJyk7XG5cbi8vIFNhbXBsZSBjb2RlIGZvciBjb2xvciBjb252ZXJzaW9uc1xuLy8gQ29udmVyc2lvbiBjYW4gYWxzbyBiZSBkb25lIHVzaW5nIElDQyBwcm9maWxlcyBhbmQgYSBDb2xvciBNYW5hZ2VtZW50IFN5c3RlbVxuLy8gRm9yIGNsYXJpdHksIGEgbGlicmFyeSBpcyB1c2VkIGZvciBtYXRyaXggbXVsdGlwbGljYXRpb24gKG11bHRpcGx5LW1hdHJpY2VzLmpzKVxuXG4vLyBzdGFuZGFyZCB3aGl0ZSBwb2ludHMsIGRlZmluZWQgYnkgNC1maWd1cmUgQ0lFIHgseSBjaHJvbWF0aWNpdGllc1xuY29uc3QgRDUwID0gWzAuMzQ1NyAvIDAuMzU4NSwgMS4wLCAoMS4wIC0gMC4zNDU3IC0gMC4zNTg1KSAvIDAuMzU4NV07XG5jb25zdCBENjUgPSBbMC4zMTI3IC8gMC4zMjksIDEuMCwgKDEuMCAtIDAuMzEyNyAtIDAuMzI5KSAvIDAuMzI5XTtcblxuLy8gc1JHQi1yZWxhdGVkIGZ1bmN0aW9uc1xuXG5mdW5jdGlvbiBsaW5fc1JHQihSR0IpIHtcbiAgLy8gY29udmVydCBhbiBhcnJheSBvZiBzUkdCIHZhbHVlc1xuICAvLyB3aGVyZSBpbi1nYW11dCB2YWx1ZXMgYXJlIGluIHRoZSByYW5nZSBbMCAtIDFdXG4gIC8vIHRvIGxpbmVhciBsaWdodCAodW4tY29tcGFuZGVkKSBmb3JtLlxuICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TUkdCXG4gIC8vIEV4dGVuZGVkIHRyYW5zZmVyIGZ1bmN0aW9uOlxuICAvLyBmb3IgbmVnYXRpdmUgdmFsdWVzLCAgbGluZWFyIHBvcnRpb24gaXMgZXh0ZW5kZWQgb24gcmVmbGVjdGlvbiBvZiBheGlzLFxuICAvLyB0aGVuIHJlZmxlY3RlZCBwb3dlciBmdW5jdGlvbiBpcyB1c2VkLlxuICByZXR1cm4gUkdCLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgbGV0IHNpZ24gPSB2YWwgPCAwID8gLTEgOiAxO1xuICAgIGxldCBhYnMgPSBNYXRoLmFicyh2YWwpO1xuXG4gICAgaWYgKGFicyA8IDAuMDQwNDUpIHtcbiAgICAgIHJldHVybiB2YWwgLyAxMi45MjtcbiAgICB9XG5cbiAgICByZXR1cm4gc2lnbiAqIE1hdGgucG93KChhYnMgKyAwLjA1NSkgLyAxLjA1NSwgMi40KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdhbV9zUkdCKFJHQikge1xuICAvLyBjb252ZXJ0IGFuIGFycmF5IG9mIGxpbmVhci1saWdodCBzUkdCIHZhbHVlcyBpbiB0aGUgcmFuZ2UgMC4wLTEuMFxuICAvLyB0byBnYW1tYSBjb3JyZWN0ZWQgZm9ybVxuICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TUkdCXG4gIC8vIEV4dGVuZGVkIHRyYW5zZmVyIGZ1bmN0aW9uOlxuICAvLyBGb3IgbmVnYXRpdmUgdmFsdWVzLCBsaW5lYXIgcG9ydGlvbiBleHRlbmRzIG9uIHJlZmxlY3Rpb25cbiAgLy8gb2YgYXhpcywgdGhlbiB1c2VzIHJlZmxlY3RlZCBwb3cgYmVsb3cgdGhhdFxuICByZXR1cm4gUkdCLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgbGV0IHNpZ24gPSB2YWwgPCAwID8gLTEgOiAxO1xuICAgIGxldCBhYnMgPSBNYXRoLmFicyh2YWwpO1xuXG4gICAgaWYgKGFicyA+IDAuMDAzMTMwOCkge1xuICAgICAgcmV0dXJuIHNpZ24gKiAoMS4wNTUgKiBNYXRoLnBvdyhhYnMsIDEgLyAyLjQpIC0gMC4wNTUpO1xuICAgIH1cblxuICAgIHJldHVybiAxMi45MiAqIHZhbDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxpbl9zUkdCX3RvX1hZWihyZ2IpIHtcbiAgLy8gY29udmVydCBhbiBhcnJheSBvZiBsaW5lYXItbGlnaHQgc1JHQiB2YWx1ZXMgdG8gQ0lFIFhZWlxuICAvLyB1c2luZyBzUkdCJ3Mgb3duIHdoaXRlLCBENjUgKG5vIGNocm9tYXRpYyBhZGFwdGF0aW9uKVxuXG4gIHZhciBNID0gW1xuICAgIFswLjQxMjM5MDc5OTI2NTk1OTM0LCAwLjM1NzU4NDMzOTM4Mzg3OCwgMC4xODA0ODA3ODg0MDE4MzQzXSxcbiAgICBbMC4yMTI2MzkwMDU4NzE1MTAyNywgMC43MTUxNjg2Nzg3Njc3NTYsIDAuMDcyMTkyMzE1MzYwNzMzNzFdLFxuICAgIFswLjAxOTMzMDgxODcxNTU5MTgyLCAwLjExOTE5NDc3OTc5NDYyNTk4LCAwLjk1MDUzMjE1MjI0OTY2MDddLFxuICBdO1xuICByZXR1cm4gbXVsdGlwbHlNYXRyaWNlcyhNLCByZ2IpO1xufVxuXG5mdW5jdGlvbiBYWVpfdG9fbGluX3NSR0IoWFlaKSB7XG4gIC8vIGNvbnZlcnQgWFlaIHRvIGxpbmVhci1saWdodCBzUkdCXG5cbiAgdmFyIE0gPSBbXG4gICAgWzMuMjQwOTY5OTQxOTA0NTIyNiwgLTEuNTM3MzgzMTc3NTcwMDk0LCAtMC40OTg2MTA3NjAyOTMwMDM0XSxcbiAgICBbLTAuOTY5MjQzNjM2MjgwODc5NiwgMS44NzU5Njc1MDE1MDc3MjAyLCAwLjA0MTU1NTA1NzQwNzE3NTU5XSxcbiAgICBbMC4wNTU2MzAwNzk2OTY5OTM2NiwgLTAuMjAzOTc2OTU4ODg4OTc2NTIsIDEuMDU2OTcxNTE0MjQyODc4Nl0sXG4gIF07XG5cbiAgcmV0dXJuIG11bHRpcGx5TWF0cmljZXMoTSwgWFlaKTtcbn1cblxuLy8gIGRpc3BsYXktcDMtcmVsYXRlZCBmdW5jdGlvbnNcblxuZnVuY3Rpb24gbGluX1AzKFJHQikge1xuICAvLyBjb252ZXJ0IGFuIGFycmF5IG9mIGRpc3BsYXktcDMgUkdCIHZhbHVlcyBpbiB0aGUgcmFuZ2UgMC4wIC0gMS4wXG4gIC8vIHRvIGxpbmVhciBsaWdodCAodW4tY29tcGFuZGVkKSBmb3JtLlxuXG4gIHJldHVybiBsaW5fc1JHQihSR0IpOyAvLyBzYW1lIGFzIHNSR0Jcbn1cblxuZnVuY3Rpb24gZ2FtX1AzKFJHQikge1xuICAvLyBjb252ZXJ0IGFuIGFycmF5IG9mIGxpbmVhci1saWdodCBkaXNwbGF5LXAzIFJHQiAgaW4gdGhlIHJhbmdlIDAuMC0xLjBcbiAgLy8gdG8gZ2FtbWEgY29ycmVjdGVkIGZvcm1cblxuICByZXR1cm4gZ2FtX3NSR0IoUkdCKTsgLy8gc2FtZSBhcyBzUkdCXG59XG5cbmZ1bmN0aW9uIGxpbl9QM190b19YWVoocmdiKSB7XG4gIC8vIGNvbnZlcnQgYW4gYXJyYXkgb2YgbGluZWFyLWxpZ2h0IGRpc3BsYXktcDMgdmFsdWVzIHRvIENJRSBYWVpcbiAgLy8gdXNpbmcgIEQ2NSAobm8gY2hyb21hdGljIGFkYXB0YXRpb24pXG4gIC8vIGh0dHA6Ly93d3cuYnJ1Y2VsaW5kYmxvb20uY29tL2luZGV4Lmh0bWw/RXFuX1JHQl9YWVpfTWF0cml4Lmh0bWxcbiAgdmFyIE0gPSBbXG4gICAgWzAuNDg2NTcwOTQ4NjQ4MjE2MiwgMC4yNjU2Njc2OTMxNjkwOTMwNiwgMC4xOTgyMTcyODUyMzQzNjI1XSxcbiAgICBbMC4yMjg5NzQ1NjQwNjk3NDg4LCAwLjY5MTczODUyMTgzNjUwNjQsIDAuMDc5Mjg2OTE0MDkzNzQ1XSxcbiAgICBbMC4wLCAwLjA0NTExMzM4MTg1ODkwMjY0LCAxLjA0Mzk0NDM2ODkwMDk3Nl0sXG4gIF07XG4gIC8vIDAgd2FzIGNvbXB1dGVkIGFzIC0zLjk3MjA3NTUxNjkzMzQ4OGUtMTdcblxuICByZXR1cm4gbXVsdGlwbHlNYXRyaWNlcyhNLCByZ2IpO1xufVxuXG5mdW5jdGlvbiBYWVpfdG9fbGluX1AzKFhZWikge1xuICAvLyBjb252ZXJ0IFhZWiB0byBsaW5lYXItbGlnaHQgUDNcbiAgdmFyIE0gPSBbXG4gICAgWzIuNDkzNDk2OTExOTQxNDI1LCAtMC45MzEzODM2MTc5MTkxMjM5LCAtMC40MDI3MTA3ODQ0NTA3MTY4NF0sXG4gICAgWy0wLjgyOTQ4ODk2OTU2MTU3NDcsIDEuNzYyNjY0MDYwMzE4MzQ2MywgMC4wMjM2MjQ2ODU4NDE5NDM1NzddLFxuICAgIFswLjAzNTg0NTgzMDI0Mzc4NDQ3LCAtMC4wNzYxNzIzODkyNjgwNDE4MiwgMC45NTY4ODQ1MjQwMDc2ODcyXSxcbiAgXTtcblxuICByZXR1cm4gbXVsdGlwbHlNYXRyaWNlcyhNLCBYWVopO1xufVxuXG4vLyBwcm9waG90by1yZ2IgZnVuY3Rpb25zXG5cbmZ1bmN0aW9uIGxpbl9Qcm9QaG90byhSR0IpIHtcbiAgLy8gY29udmVydCBhbiBhcnJheSBvZiBwcm9waG90by1yZ2IgdmFsdWVzXG4gIC8vIHdoZXJlIGluLWdhbXV0IGNvbG9ycyBhcmUgaW4gdGhlIHJhbmdlIFswLjAgLSAxLjBdXG4gIC8vIHRvIGxpbmVhciBsaWdodCAodW4tY29tcGFuZGVkKSBmb3JtLlxuICAvLyBUcmFuc2ZlciBjdXJ2ZSBpcyBnYW1tYSAxLjggd2l0aCBhIHNtYWxsIGxpbmVhciBwb3J0aW9uXG4gIC8vIEV4dGVuZGVkIHRyYW5zZmVyIGZ1bmN0aW9uXG4gIGNvbnN0IEV0MiA9IDE2IC8gNTEyO1xuICByZXR1cm4gUkdCLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgbGV0IHNpZ24gPSB2YWwgPCAwID8gLTEgOiAxO1xuICAgIGxldCBhYnMgPSBNYXRoLmFicyh2YWwpO1xuXG4gICAgaWYgKGFicyA8PSBFdDIpIHtcbiAgICAgIHJldHVybiB2YWwgLyAxNjtcbiAgICB9XG5cbiAgICByZXR1cm4gc2lnbiAqIE1hdGgucG93KHZhbCwgMS44KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdhbV9Qcm9QaG90byhSR0IpIHtcbiAgLy8gY29udmVydCBhbiBhcnJheSBvZiBsaW5lYXItbGlnaHQgcHJvcGhvdG8tcmdiICBpbiB0aGUgcmFuZ2UgMC4wLTEuMFxuICAvLyB0byBnYW1tYSBjb3JyZWN0ZWQgZm9ybVxuICAvLyBUcmFuc2ZlciBjdXJ2ZSBpcyBnYW1tYSAxLjggd2l0aCBhIHNtYWxsIGxpbmVhciBwb3J0aW9uXG4gIC8vIFRPRE8gZm9yIG5lZ2F0aXZlIHZhbHVlcywgZXh0ZW5kIGxpbmVhciBwb3J0aW9uIG9uIHJlZmxlY3Rpb24gb2YgYXhpcywgdGhlbiBhZGQgcG93IGJlbG93IHRoYXRcbiAgY29uc3QgRXQgPSAxIC8gNTEyO1xuICByZXR1cm4gUkdCLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgbGV0IHNpZ24gPSB2YWwgPCAwID8gLTEgOiAxO1xuICAgIGxldCBhYnMgPSBNYXRoLmFicyh2YWwpO1xuXG4gICAgaWYgKGFicyA+PSBFdCkge1xuICAgICAgcmV0dXJuIHNpZ24gKiBNYXRoLnBvdyhhYnMsIDEgLyAxLjgpO1xuICAgIH1cblxuICAgIHJldHVybiAxNiAqIHZhbDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxpbl9Qcm9QaG90b190b19YWVoocmdiKSB7XG4gIC8vIGNvbnZlcnQgYW4gYXJyYXkgb2YgbGluZWFyLWxpZ2h0IHByb3Bob3RvLXJnYiB2YWx1ZXMgdG8gQ0lFIFhZWlxuICAvLyB1c2luZyAgRDUwIChzbyBubyBjaHJvbWF0aWMgYWRhcHRhdGlvbiBuZWVkZWQgYWZ0ZXJ3YXJkcylcbiAgLy8gaHR0cDovL3d3dy5icnVjZWxpbmRibG9vbS5jb20vaW5kZXguaHRtbD9FcW5fUkdCX1hZWl9NYXRyaXguaHRtbFxuICB2YXIgTSA9IFtcbiAgICBbMC43OTc3NjA0ODk2NzIzMDI3LCAwLjEzNTE4NTgzNzE3NTc0MDMxLCAwLjAzMTM0OTM0OTU4MTUyNDhdLFxuICAgIFswLjI4ODA3MTEyODIyOTI5MzQsIDAuNzExODQzMjE3ODEwMTAxNCwgMC4wMDAwODU2NTM5NjA2MDUyNTkwMl0sXG4gICAgWzAuMCwgMC4wLCAwLjgyNTEwNDYwMjUxMDQ2MDFdLFxuICBdO1xuXG4gIHJldHVybiBtdWx0aXBseU1hdHJpY2VzKE0sIHJnYik7XG59XG5cbmZ1bmN0aW9uIFhZWl90b19saW5fUHJvUGhvdG8oWFlaKSB7XG4gIC8vIGNvbnZlcnQgWFlaIHRvIGxpbmVhci1saWdodCBwcm9waG90by1yZ2JcbiAgdmFyIE0gPSBbXG4gICAgWzEuMzQ1Nzk4OTczMTAyODI4MSwgLTAuMjU1NTgwMTAwMDc5OTc1MzQsIC0wLjA1MTEwNjI4NTA2NzUzNDAxXSxcbiAgICBbLTAuNTQ0NjIyNDkzOTAyODM0NywgMS41MDgyMzI3NDEzMTMyNzgxLCAwLjAyMDUzNjAzMjM5MTQ3OTczXSxcbiAgICBbMC4wLCAwLjAsIDEuMjExOTY3NTQ1NjM4OTQ1NF0sXG4gIF07XG5cbiAgcmV0dXJuIG11bHRpcGx5TWF0cmljZXMoTSwgWFlaKTtcbn1cblxuLy8gYTk4LXJnYiBmdW5jdGlvbnNcblxuZnVuY3Rpb24gbGluX2E5OHJnYihSR0IpIHtcbiAgLy8gY29udmVydCBhbiBhcnJheSBvZiBhOTgtcmdiIHZhbHVlcyBpbiB0aGUgcmFuZ2UgMC4wIC0gMS4wXG4gIC8vIHRvIGxpbmVhciBsaWdodCAodW4tY29tcGFuZGVkKSBmb3JtLlxuICAvLyBuZWdhdGl2ZSB2YWx1ZXMgYXJlIGFsc28gbm93IGFjY2VwdGVkXG4gIHJldHVybiBSR0IubWFwKGZ1bmN0aW9uICh2YWwpIHtcbiAgICBsZXQgc2lnbiA9IHZhbCA8IDAgPyAtMSA6IDE7XG4gICAgbGV0IGFicyA9IE1hdGguYWJzKHZhbCk7XG5cbiAgICByZXR1cm4gc2lnbiAqIE1hdGgucG93KGFicywgNTYzIC8gMjU2KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdhbV9hOThyZ2IoUkdCKSB7XG4gIC8vIGNvbnZlcnQgYW4gYXJyYXkgb2YgbGluZWFyLWxpZ2h0IGE5OC1yZ2IgIGluIHRoZSByYW5nZSAwLjAtMS4wXG4gIC8vIHRvIGdhbW1hIGNvcnJlY3RlZCBmb3JtXG4gIC8vIG5lZ2F0aXZlIHZhbHVlcyBhcmUgYWxzbyBub3cgYWNjZXB0ZWRcbiAgcmV0dXJuIFJHQi5tYXAoZnVuY3Rpb24gKHZhbCkge1xuICAgIGxldCBzaWduID0gdmFsIDwgMCA/IC0xIDogMTtcbiAgICBsZXQgYWJzID0gTWF0aC5hYnModmFsKTtcblxuICAgIHJldHVybiBzaWduICogTWF0aC5wb3coYWJzLCAyNTYgLyA1NjMpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbGluX2E5OHJnYl90b19YWVoocmdiKSB7XG4gIC8vIGNvbnZlcnQgYW4gYXJyYXkgb2YgbGluZWFyLWxpZ2h0IGE5OC1yZ2IgdmFsdWVzIHRvIENJRSBYWVpcbiAgLy8gaHR0cDovL3d3dy5icnVjZWxpbmRibG9vbS5jb20vaW5kZXguaHRtbD9FcW5fUkdCX1hZWl9NYXRyaXguaHRtbFxuICAvLyBoYXMgZ3JlYXRlciBudW1lcmljYWwgcHJlY2lzaW9uIHRoYW4gc2VjdGlvbiA0LjMuNS4zIG9mXG4gIC8vIGh0dHBzOi8vd3d3LmFkb2JlLmNvbS9kaWdpdGFsaW1hZy9wZGZzL0Fkb2JlUkdCMTk5OC5wZGZcbiAgLy8gYnV0IHRoZSB2YWx1ZXMgYmVsb3cgd2VyZSBjYWxjdWxhdGVkIGZyb20gZmlyc3QgcHJpbmNpcGxlc1xuICAvLyBmcm9tIHRoZSBjaHJvbWF0aWNpdHkgY29vcmRpbmF0ZXMgb2YgUiBHIEIgV1xuICAvLyBzZWUgbWF0cml4bWFrZXIuaHRtbFxuICB2YXIgTSA9IFtcbiAgICBbMC41NzY2NjkwNDI5MTAxMzA1LCAwLjE4NTU1ODIzNzkwNjU0NjMsIDAuMTg4MjI4NjQ2MjM0OTk0N10sXG4gICAgWzAuMjk3MzQ0OTc1MjUwNTM2MDUsIDAuNjI3MzYzNTY2MjU1NDY2MSwgMC4wNzUyOTE0NTg0OTM5OTc4OF0sXG4gICAgWzAuMDI3MDMxMzYxMzg2NDEyMzQsIDAuMDcwNjg4ODUyNTM1ODI3MjMsIDAuOTkxMzM3NTM2ODM3NjM4OF0sXG4gIF07XG5cbiAgcmV0dXJuIG11bHRpcGx5TWF0cmljZXMoTSwgcmdiKTtcbn1cblxuZnVuY3Rpb24gWFlaX3RvX2xpbl9hOThyZ2IoWFlaKSB7XG4gIC8vIGNvbnZlcnQgWFlaIHRvIGxpbmVhci1saWdodCBhOTgtcmdiXG4gIHZhciBNID0gW1xuICAgIFsyLjA0MTU4NzkwMzgxMDc0NjUsIC0wLjU2NTAwNjk3NDI3ODg1OTYsIC0wLjM0NDczMTM1MDc3ODMyOTU2XSxcbiAgICBbLTAuOTY5MjQzNjM2MjgwODc5NSwgMS44NzU5Njc1MDE1MDc3MjAyLCAwLjA0MTU1NTA1NzQwNzE3NTU3XSxcbiAgICBbMC4wMTM0NDQyODA2MzIwMzExNDIsIC0wLjExODM2MjM5MjIzMTAxODM4LCAxLjAxNTE3NDk5NDM5MTIwNTRdLFxuICBdO1xuXG4gIHJldHVybiBtdWx0aXBseU1hdHJpY2VzKE0sIFhZWik7XG59XG5cbi8vUmVjLiAyMDIwLXJlbGF0ZWQgZnVuY3Rpb25zXG5cbmZ1bmN0aW9uIGxpbl8yMDIwKFJHQikge1xuICAvLyBjb252ZXJ0IGFuIGFycmF5IG9mIHJlYzIwMjAgUkdCIHZhbHVlcyBpbiB0aGUgcmFuZ2UgMC4wIC0gMS4wXG4gIC8vIHRvIGxpbmVhciBsaWdodCAodW4tY29tcGFuZGVkKSBmb3JtLlxuICAvLyBJVFUtUiBCVC4yMDIwLTIgcC40XG5cbiAgY29uc3QgaTEgPSAxLjA5OTI5NjgyNjgwOTQ0O1xuICBjb25zdCBpMiA9IDAuMDE4MDUzOTY4NTEwODA3O1xuXG4gIHJldHVybiBSR0IubWFwKGZ1bmN0aW9uICh2YWwpIHtcbiAgICBsZXQgc2lnbiA9IHZhbCA8IDAgPyAtMSA6IDE7XG4gICAgbGV0IGFicyA9IE1hdGguYWJzKHZhbCk7XG5cbiAgICBpZiAoYWJzIDwgaTIgKiA0LjUpIHtcbiAgICAgIHJldHVybiB2YWwgLyA0LjU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNpZ24gKiBNYXRoLnBvdygoYWJzICsgaTEgLSAxKSAvIGkxLCAxIC8gMC40NSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnYW1fMjAyMChSR0IpIHtcbiAgLy8gY29udmVydCBhbiBhcnJheSBvZiBsaW5lYXItbGlnaHQgcmVjMjAyMCBSR0IgIGluIHRoZSByYW5nZSAwLjAtMS4wXG4gIC8vIHRvIGdhbW1hIGNvcnJlY3RlZCBmb3JtXG4gIC8vIElUVS1SIEJULjIwMjAtMiBwLjRcblxuICBjb25zdCBpMSA9IDEuMDk5Mjk2ODI2ODA5NDQ7XG4gIGNvbnN0IGkyID0gMC4wMTgwNTM5Njg1MTA4MDc7XG5cbiAgcmV0dXJuIFJHQi5tYXAoZnVuY3Rpb24gKHZhbCkge1xuICAgIGxldCBzaWduID0gdmFsIDwgMCA/IC0xIDogMTtcbiAgICBsZXQgYWJzID0gTWF0aC5hYnModmFsKTtcblxuICAgIGlmIChhYnMgPiBpMikge1xuICAgICAgcmV0dXJuIHNpZ24gKiAoaTEgKiBNYXRoLnBvdyhhYnMsIDAuNDUpIC0gKGkxIC0gMSkpO1xuICAgIH1cblxuICAgIHJldHVybiA0LjUgKiB2YWw7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsaW5fMjAyMF90b19YWVoocmdiKSB7XG4gIC8vIGNvbnZlcnQgYW4gYXJyYXkgb2YgbGluZWFyLWxpZ2h0IHJlYzIwMjAgdmFsdWVzIHRvIENJRSBYWVpcbiAgLy8gdXNpbmcgIEQ2NSAobm8gY2hyb21hdGljIGFkYXB0YXRpb24pXG4gIC8vIGh0dHA6Ly93d3cuYnJ1Y2VsaW5kYmxvb20uY29tL2luZGV4Lmh0bWw/RXFuX1JHQl9YWVpfTWF0cml4Lmh0bWxcbiAgdmFyIE0gPSBbXG4gICAgWzAuNjM2OTU4MDQ4MzAxMjkxNCwgMC4xNDQ2MTY5MDM1ODYyMDgzMiwgMC4xNjg4ODA5NzUxNjQxNzIxXSxcbiAgICBbMC4yNjI3MDAyMTIwMTEyNjcxLCAwLjY3Nzk5ODA3MTUxODg3MDgsIDAuMDU5MzAxNzE2NDY5ODYxOTZdLFxuICAgIFswLjAsIDAuMDI4MDcyNjkzMDQ5MDg3NDI4LCAxLjA2MDk4NTA1NzcxMDc5MV0sXG4gIF07XG4gIC8vIDAgaXMgYWN0dWFsbHkgY2FsY3VsYXRlZCBhcyAgNC45OTQxMDY1NzQ0NjYwNzZlLTE3XG5cbiAgcmV0dXJuIG11bHRpcGx5TWF0cmljZXMoTSwgcmdiKTtcbn1cblxuZnVuY3Rpb24gWFlaX3RvX2xpbl8yMDIwKFhZWikge1xuICAvLyBjb252ZXJ0IFhZWiB0byBsaW5lYXItbGlnaHQgcmVjMjAyMFxuICB2YXIgTSA9IFtcbiAgICBbMS43MTY2NTExODc5NzEyNjc0LCAtMC4zNTU2NzA3ODM3NzYzOTIzMywgLTAuMjUzMzY2MjgxMzczNjU5NzRdLFxuICAgIFstMC42NjY2ODQzNTE4MzI0ODkyLCAxLjYxNjQ4MTIzNjYzNDkzOTUsIDAuMDE1NzY4NTQ1ODEzOTExMTNdLFxuICAgIFswLjAxNzYzOTg1NzQ0NTMxMDc4MywgLTAuMDQyNzcwNjEzMjU3ODA4NTI0LCAwLjk0MjEwMzEyMTIzNTQ3MzhdLFxuICBdO1xuXG4gIHJldHVybiBtdWx0aXBseU1hdHJpY2VzKE0sIFhZWik7XG59XG5cbi8vIENocm9tYXRpYyBhZGFwdGF0aW9uXG5cbmZ1bmN0aW9uIEQ2NV90b19ENTAoWFlaKSB7XG4gIC8vIEJyYWRmb3JkIGNocm9tYXRpYyBhZGFwdGF0aW9uIGZyb20gRDY1IHRvIEQ1MFxuICAvLyBUaGUgbWF0cml4IGJlbG93IGlzIHRoZSByZXN1bHQgb2YgdGhyZWUgb3BlcmF0aW9uczpcbiAgLy8gLSBjb252ZXJ0IGZyb20gWFlaIHRvIHJldGluYWwgY29uZSBkb21haW5cbiAgLy8gLSBzY2FsZSBjb21wb25lbnRzIGZyb20gb25lIHJlZmVyZW5jZSB3aGl0ZSB0byBhbm90aGVyXG4gIC8vIC0gY29udmVydCBiYWNrIHRvIFhZWlxuICAvLyBodHRwOi8vd3d3LmJydWNlbGluZGJsb29tLmNvbS9pbmRleC5odG1sP0Vxbl9DaHJvbUFkYXB0Lmh0bWxcbiAgdmFyIE0gPSBbXG4gICAgWzEuMDQ3OTI5ODIwODQwNTQ4OCwgMC4wMjI5NDY3OTMzNDEwMTkwODgsIC0wLjA1MDE5MjIyOTU0MzEzNTU3XSxcbiAgICBbMC4wMjk2Mjc4MTU2ODgxNTkzNDQsIDAuOTkwNDM0NDg0NTczMjQ5LCAtMC4wMTcwNzM4MjUwMjkzODUxNF0sXG4gICAgWy0wLjAwOTI0MzA1ODE1MjU5MTE3OCwgMC4wMTUwNTUxNDQ4OTY1Nzc4OTUsIDAuNzUxODc0Mjg5OTU4MDAwOF0sXG4gIF07XG5cbiAgcmV0dXJuIG11bHRpcGx5TWF0cmljZXMoTSwgWFlaKTtcbn1cblxuZnVuY3Rpb24gRDUwX3RvX0Q2NShYWVopIHtcbiAgLy8gQnJhZGZvcmQgY2hyb21hdGljIGFkYXB0YXRpb24gZnJvbSBENTAgdG8gRDY1XG4gIHZhciBNID0gW1xuICAgIFswLjk1NTQ3MzQ1MjcwNDIxODIsIC0wLjAyMzA5ODUzNjg3NDI2MTQyMywgMC4wNjMyNTkzMDg2NjEwMjE3XSxcbiAgICBbLTAuMDI4MzY5NzA2OTYzMjA4MTM2LCAxLjAwOTk5NTQ1ODAwNTgyMjYsIDAuMDIxMDQxMzk4OTY2OTQzMDA4XSxcbiAgICBbMC4wMTIzMTQwMDE2ODgzMTk4OTksIC0wLjAyMDUwNzY5NjQzMzQ3NzkxMiwgMS4zMzAzNjU5MzY2MDgwNzUzXSxcbiAgXTtcblxuICByZXR1cm4gbXVsdGlwbHlNYXRyaWNlcyhNLCBYWVopO1xufVxuXG4vLyBDSUUgTGFiIGFuZCBMQ0hcblxuZnVuY3Rpb24gWFlaX3RvX0xhYihYWVopIHtcbiAgLy8gQXNzdW1pbmcgWFlaIGlzIHJlbGF0aXZlIHRvIEQ1MCwgY29udmVydCB0byBDSUUgTGFiXG4gIC8vIGZyb20gQ0lFIHN0YW5kYXJkLCB3aGljaCBub3cgZGVmaW5lcyB0aGVzZSBhcyBhIHJhdGlvbmFsIGZyYWN0aW9uXG4gIHZhciDDjsK1ID0gMjE2IC8gMjQzODk7IC8vIDZeMy8yOV4zXG4gIHZhciDDjsK6ID0gMjQzODkgLyAyNzsgLy8gMjleMy8zXjNcblxuICAvLyBjb21wdXRlIHh5eiwgd2hpY2ggaXMgWFlaIHNjYWxlZCByZWxhdGl2ZSB0byByZWZlcmVuY2Ugd2hpdGVcbiAgdmFyIHh5eiA9IFhZWi5tYXAoKHZhbHVlLCBpKSA9PiB2YWx1ZSAvIEQ1MFtpXSk7XG5cbiAgLy8gbm93IGNvbXB1dGUgZlxuICB2YXIgZiA9IHh5ei5tYXAoKHZhbHVlKSA9PiAodmFsdWUgPiDDjsK1ID8gTWF0aC5jYnJ0KHZhbHVlKSA6ICjDjsK6ICogdmFsdWUgKyAxNikgLyAxMTYpKTtcblxuICByZXR1cm4gW1xuICAgIDExNiAqIGZbMV0gLSAxNiwgLy8gTFxuICAgIDUwMCAqIChmWzBdIC0gZlsxXSksIC8vIGFcbiAgICAyMDAgKiAoZlsxXSAtIGZbMl0pLCAvLyBiXG4gIF07XG4gIC8vIEwgaW4gcmFuZ2UgWzAsMTAwXS4gRm9yIHVzZSBpbiBDU1MsIGFkZCBhIHBlcmNlbnRcbn1cblxuZnVuY3Rpb24gTGFiX3RvX1hZWihMYWIpIHtcbiAgLy8gQ29udmVydCBMYWIgdG8gRDUwLWFkYXB0ZWQgWFlaXG4gIC8vIGh0dHA6Ly93d3cuYnJ1Y2VsaW5kYmxvb20uY29tL2luZGV4Lmh0bWw/RXFuX1JHQl9YWVpfTWF0cml4Lmh0bWxcbiAgdmFyIMOOwrogPSAyNDM4OSAvIDI3OyAvLyAyOV4zLzNeM1xuICB2YXIgw47CtSA9IDIxNiAvIDI0Mzg5OyAvLyA2XjMvMjleM1xuICB2YXIgZiA9IFtdO1xuXG4gIC8vIGNvbXB1dGUgZiwgc3RhcnRpbmcgd2l0aCB0aGUgbHVtaW5hbmNlLXJlbGF0ZWQgdGVybVxuICBmWzFdID0gKExhYlswXSArIDE2KSAvIDExNjtcbiAgZlswXSA9IExhYlsxXSAvIDUwMCArIGZbMV07XG4gIGZbMl0gPSBmWzFdIC0gTGFiWzJdIC8gMjAwO1xuXG4gIC8vIGNvbXB1dGUgeHl6XG4gIHZhciB4eXogPSBbXG4gICAgTWF0aC5wb3coZlswXSwgMykgPiDDjsK1ID8gTWF0aC5wb3coZlswXSwgMykgOiAoMTE2ICogZlswXSAtIDE2KSAvIMOOwrosXG4gICAgTGFiWzBdID4gw47CuiAqIMOOwrUgPyBNYXRoLnBvdygoTGFiWzBdICsgMTYpIC8gMTE2LCAzKSA6IExhYlswXSAvIMOOwrosXG4gICAgTWF0aC5wb3coZlsyXSwgMykgPiDDjsK1ID8gTWF0aC5wb3coZlsyXSwgMykgOiAoMTE2ICogZlsyXSAtIDE2KSAvIMOOwrosXG4gIF07XG5cbiAgLy8gQ29tcHV0ZSBYWVogYnkgc2NhbGluZyB4eXogYnkgcmVmZXJlbmNlIHdoaXRlXG4gIHJldHVybiB4eXoubWFwKCh2YWx1ZSwgaSkgPT4gdmFsdWUgKiBENTBbaV0pO1xufVxuXG5mdW5jdGlvbiBMYWJfdG9fTENIKExhYikge1xuICAvLyBDb252ZXJ0IHRvIHBvbGFyIGZvcm1cbiAgdmFyIGh1ZSA9IChNYXRoLmF0YW4yKExhYlsyXSwgTGFiWzFdKSAqIDE4MCkgLyBNYXRoLlBJO1xuICByZXR1cm4gW1xuICAgIExhYlswXSwgLy8gTCBpcyBzdGlsbCBMXG4gICAgTWF0aC5zcXJ0KE1hdGgucG93KExhYlsxXSwgMikgKyBNYXRoLnBvdyhMYWJbMl0sIDIpKSwgLy8gQ2hyb21hXG4gICAgaHVlID49IDAgPyBodWUgOiBodWUgKyAzNjAsIC8vIEh1ZSwgaW4gZGVncmVlcyBbMCB0byAzNjApXG4gIF07XG59XG5cbmZ1bmN0aW9uIExDSF90b19MYWIoTENIKSB7XG4gIC8vIENvbnZlcnQgZnJvbSBwb2xhciBmb3JtXG4gIHJldHVybiBbXG4gICAgTENIWzBdLCAvLyBMIGlzIHN0aWxsIExcbiAgICBMQ0hbMV0gKiBNYXRoLmNvcygoTENIWzJdICogTWF0aC5QSSkgLyAxODApLCAvLyBhXG4gICAgTENIWzFdICogTWF0aC5zaW4oKExDSFsyXSAqIE1hdGguUEkpIC8gMTgwKSwgLy8gYlxuICBdO1xufVxuXG4vLyBPS0xhYiBhbmQgT0tMQ0hcbi8vIGh0dHBzOi8vYm90dG9zc29uLmdpdGh1Yi5pby9wb3N0cy9va2xhYi9cblxuLy8gWFlaIDwtPiBMTVMgbWF0cmljZXMgcmVjYWxjdWxhdGVkIGZvciBjb25zaXN0ZW50IHJlZmVyZW5jZSB3aGl0ZVxuLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93M2MvY3Nzd2ctZHJhZnRzL2lzc3Vlcy82NjQyI2lzc3VlY29tbWVudC05NDM1MjE0ODRcblxuZnVuY3Rpb24gWFlaX3RvX09LTGFiKFhZWikge1xuICAvLyBHaXZlbiBYWVogcmVsYXRpdmUgdG8gRDY1LCBjb252ZXJ0IHRvIE9LTGFiXG4gIHZhciBYWVp0b0xNUyA9IFtcbiAgICBbMC44MTkwMjI0NDMyMTY0MzE5LCAwLjM2MTkwNjI1NjI4MDEyMjEsIC0wLjEyODg3Mzc4MjYxMjE2NDE0XSxcbiAgICBbMC4wMzI5ODM2NjcxOTgwMjcxLCAwLjkyOTI4Njg0Njg5NjU1NDYsIDAuMDM2MTQ0NjY4MTY5OTk4NDRdLFxuICAgIFswLjA0ODE3NzE5OTU2NjA0NjI1NSwgMC4yNjQyMzk1MjQ5NDQyMjc2NCwgMC42MzM1NDc4MjU4MTM2OTM3XSxcbiAgXTtcbiAgdmFyIExNU3RvT0tMYWIgPSBbXG4gICAgWzAuMjEwNDU0MjU1MywgMC43OTM2MTc3ODUsIC0wLjAwNDA3MjA0NjhdLFxuICAgIFsxLjk3Nzk5ODQ5NTEsIC0yLjQyODU5MjIwNSwgMC40NTA1OTM3MDk5XSxcbiAgICBbMC4wMjU5MDQwMzcxLCAwLjc4Mjc3MTc2NjIsIC0wLjgwODY3NTc2Nl0sXG4gIF07XG5cbiAgdmFyIExNUyA9IG11bHRpcGx5TWF0cmljZXMoWFladG9MTVMsIFhZWik7XG4gIHJldHVybiBtdWx0aXBseU1hdHJpY2VzKFxuICAgIExNU3RvT0tMYWIsXG4gICAgTE1TLm1hcCgoYykgPT4gTWF0aC5jYnJ0KGMpKSxcbiAgKTtcbiAgLy8gTCBpbiByYW5nZSBbMCwxXS4gRm9yIHVzZSBpbiBDU1MsIG11bHRpcGx5IGJ5IDEwMCBhbmQgYWRkIGEgcGVyY2VudFxufVxuXG5mdW5jdGlvbiBPS0xhYl90b19YWVooT0tMYWIpIHtcbiAgLy8gR2l2ZW4gT0tMYWIsIGNvbnZlcnQgdG8gWFlaIHJlbGF0aXZlIHRvIEQ2NVxuICB2YXIgTE1TdG9YWVogPSBbXG4gICAgWzEuMjI2ODc5ODczMzc0MTU1NywgLTAuNTU3ODE0OTk2NTU1NDgxMywgMC4yODEzOTEwNTAxNzcyMTU4M10sXG4gICAgWy0wLjA0MDU3NTc2MjYyNDMxMzcyLCAxLjExMjI4NjgyOTM5NzA1OTQsIC0wLjA3MTcxMTA2NjY2MTUxNzAxXSxcbiAgICBbLTAuMDc2MzcyOTQ5NzQ2NzIxNDIsIC0wLjQyMTQ5MzMyMzk2Mjc5MTQsIDEuNTg2OTI0MDI0NDI3MjQxOF0sXG4gIF07XG4gIHZhciBPS0xhYnRvTE1TID0gW1xuICAgIFswLjk5OTk5OTk5ODQ1MDUxOTgxNDMyLCAwLjM5NjMzNzc5MjE3Mzc2Nzg1Njc4LCAwLjIxNTgwMzc1ODA2MDc1ODgwMzM5XSxcbiAgICBbMS4wMDAwMDAwMDg4ODE3NjA3NzY3LCAtMC4xMDU1NjEzNDIzMjM2NTYzNDk0LCAtMC4wNjM4NTQxNzQ3NzE3MDU5MDM0MDJdLFxuICAgIFsxLjAwMDAwMDA1NDY3MjQxMDkxNzcsIC0wLjA4OTQ4NDE4MjA5NDk2NTc1OTY4NCwgLTEuMjkxNDg1NTM3ODY0MDkxNzM5OV0sXG4gIF07XG5cbiAgdmFyIExNU25sID0gbXVsdGlwbHlNYXRyaWNlcyhPS0xhYnRvTE1TLCBPS0xhYik7XG4gIHJldHVybiBtdWx0aXBseU1hdHJpY2VzKFxuICAgIExNU3RvWFlaLFxuICAgIExNU25sLm1hcCgoYykgPT4gYyAqKiAzKSxcbiAgKTtcbn1cblxuZnVuY3Rpb24gT0tMYWJfdG9fT0tMQ0goT0tMYWIpIHtcbiAgdmFyIGh1ZSA9IChNYXRoLmF0YW4yKE9LTGFiWzJdLCBPS0xhYlsxXSkgKiAxODApIC8gTWF0aC5QSTtcbiAgcmV0dXJuIFtcbiAgICBPS0xhYlswXSwgLy8gTCBpcyBzdGlsbCBMXG4gICAgTWF0aC5zcXJ0KE9LTGFiWzFdICoqIDIgKyBPS0xhYlsyXSAqKiAyKSwgLy8gQ2hyb21hXG4gICAgaHVlID49IDAgPyBodWUgOiBodWUgKyAzNjAsIC8vIEh1ZSwgaW4gZGVncmVlcyBbMCB0byAzNjApXG4gIF07XG59XG5cbmZ1bmN0aW9uIE9LTENIX3RvX09LTGFiKE9LTENIKSB7XG4gIHJldHVybiBbXG4gICAgT0tMQ0hbMF0sIC8vIEwgaXMgc3RpbGwgTFxuICAgIE9LTENIWzFdICogTWF0aC5jb3MoKE9LTENIWzJdICogTWF0aC5QSSkgLyAxODApLCAvLyBhXG4gICAgT0tMQ0hbMV0gKiBNYXRoLnNpbigoT0tMQ0hbMl0gKiBNYXRoLlBJKSAvIDE4MCksIC8vIGJcbiAgXTtcbn1cblxuLy8gUHJlbXVsdGlwbGllZCBhbHBoYSBjb252ZXJzaW9uc1xuXG5mdW5jdGlvbiByZWN0YW5ndWxhcl9wcmVtdWx0aXBseShjb2xvciwgYWxwaGEpIHtcbiAgLy8gZ2l2ZW4gYSBjb2xvciBpbiBhIHJlY3Rhbmd1bGFyIG9ydGhvZ29uYWwgY29sb3JzcGFjZVxuICAvLyBhbmQgYW4gYWxwaGEgdmFsdWVcbiAgLy8gcmV0dXJuIHRoZSBwcmVtdWx0aXBsaWVkIGZvcm1cbiAgcmV0dXJuIGNvbG9yLm1hcCgoYykgPT4gYyAqIGFscGhhKTtcbn1cblxuZnVuY3Rpb24gcmVjdGFuZ3VsYXJfdW5fcHJlbXVsdGlwbHkoY29sb3IsIGFscGhhKSB7XG4gIC8vIGdpdmVuIGEgcHJlbXVsdGlwbGllZCBjb2xvciBpbiBhIHJlY3Rhbmd1bGFyIG9ydGhvZ29uYWwgY29sb3JzcGFjZVxuICAvLyBhbmQgYW4gYWxwaGEgdmFsdWVcbiAgLy8gcmV0dXJuIHRoZSBhY3R1YWwgY29sb3JcbiAgaWYgKGFscGhhID09PSAwKSB7XG4gICAgcmV0dXJuIGNvbG9yOyAvLyBhdm9pZCBkaXZpZGUgYnkgemVyb1xuICB9XG4gIHJldHVybiBjb2xvci5tYXAoKGMpID0+IGMgLyBhbHBoYSk7XG59XG5cbmZ1bmN0aW9uIHBvbGFyX3ByZW11bHRpcGx5KGNvbG9yLCBhbHBoYSwgaHVlSW5kZXgpIHtcbiAgLy8gZ2l2ZW4gYSBjb2xvciBpbiBhIGN5bGluZGljYWxwb2xhciBjb2xvcnNwYWNlXG4gIC8vIGFuZCBhbiBhbHBoYSB2YWx1ZVxuICAvLyByZXR1cm4gdGhlIHByZW11bHRpcGxpZWQgZm9ybS5cbiAgLy8gdGhlIGluZGV4IHNheXMgd2hpY2ggZW50cnkgaW4gdGhlIGNvbG9yIGFycmF5IGNvcnJlc3BvbmRzIHRvIGh1ZSBhbmdsZVxuICAvLyBmb3IgZXhhbXBsZSwgaW4gT0tMQ0ggaXQgd291bGQgYmUgMlxuICAvLyB3aGlsZSBpbiBIU0wgaXQgd291bGQgYmUgMFxuICByZXR1cm4gY29sb3IubWFwKChjLCBpKSA9PiBjICogKGh1ZUluZGV4ID09PSBpID8gMSA6IGFscGhhKSk7XG59XG5cbmZ1bmN0aW9uIHBvbGFyX3VuX3ByZW11bHRpcGx5KGNvbG9yLCBhbHBoYSwgaHVlSW5kZXgpIHtcbiAgLy8gZ2l2ZW4gYSBjb2xvciBpbiBhIGN5bGluZGljYWxwb2xhciBjb2xvcnNwYWNlXG4gIC8vIGFuZCBhbiBhbHBoYSB2YWx1ZVxuICAvLyByZXR1cm4gdGhlIGFjdHVhbCBjb2xvci5cbiAgLy8gdGhlIGh1ZUluZGV4IHNheXMgd2hpY2ggZW50cnkgaW4gdGhlIGNvbG9yIGFycmF5IGNvcnJlc3BvbmRzIHRvIGh1ZSBhbmdsZVxuICAvLyBmb3IgZXhhbXBsZSwgaW4gT0tMQ0ggaXQgd291bGQgYmUgMlxuICAvLyB3aGlsZSBpbiBIU0wgaXQgd291bGQgYmUgMFxuICBpZiAoYWxwaGEgPT09IDApIHtcbiAgICByZXR1cm4gY29sb3I7IC8vIGF2b2lkIGRpdmlkZSBieSB6ZXJvXG4gIH1cbiAgcmV0dXJuIGNvbG9yLm1hcCgoYywgaSkgPT4gYyAvIChodWVJbmRleCA9PT0gaSA/IDEgOiBhbHBoYSkpO1xufVxuXG4vLyBDb252ZW5pZW5jZSBmdW5jdGlvbnMgY2FuIGVhc2lseSBiZSBkZWZpbmVkLCBzdWNoIGFzXG5mdW5jdGlvbiBoc2xfcHJlbXVsdGlwbHkoY29sb3IsIGFscGhhKSB7XG4gIHJldHVybiBwb2xhcl9wcmVtdWx0aXBseShjb2xvciwgYWxwaGEsIDApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbGluX3NSR0IsXG4gIGdhbV9zUkdCLFxuICBsaW5fc1JHQl90b19YWVosXG4gIFhZWl90b19saW5fc1JHQixcbiAgbGluX1AzLFxuICBnYW1fUDMsXG4gIGxpbl9QM190b19YWVosXG4gIFhZWl90b19saW5fUDMsXG4gIGxpbl9Qcm9QaG90byxcbiAgZ2FtX1Byb1Bob3RvLFxuICBsaW5fUHJvUGhvdG9fdG9fWFlaLFxuICBYWVpfdG9fbGluX1Byb1Bob3RvLFxuICBsaW5fYTk4cmdiLFxuICBnYW1fYTk4cmdiLFxuICBsaW5fYTk4cmdiX3RvX1hZWixcbiAgWFlaX3RvX2xpbl9hOThyZ2IsXG4gIGxpbl8yMDIwLFxuICBnYW1fMjAyMCxcbiAgbGluXzIwMjBfdG9fWFlaLFxuICBYWVpfdG9fbGluXzIwMjAsXG4gIEQ2NV90b19ENTAsXG4gIEQ1MF90b19ENjUsXG4gIFhZWl90b19MYWIsXG4gIExhYl90b19YWVosXG4gIExhYl90b19MQ0gsXG4gIExDSF90b19MYWIsXG4gIFhZWl90b19PS0xhYixcbiAgT0tMYWJfdG9fWFlaLFxuICBPS0xhYl90b19PS0xDSCxcbiAgT0tMQ0hfdG9fT0tMYWIsXG4gIHJlY3Rhbmd1bGFyX3ByZW11bHRpcGx5LFxuICByZWN0YW5ndWxhcl91bl9wcmVtdWx0aXBseSxcbiAgcG9sYXJfcHJlbXVsdGlwbHksXG4gIHBvbGFyX3VuX3ByZW11bHRpcGx5LFxuICBoc2xfcHJlbXVsdGlwbHksXG59O1xuIiwiLyoqXG4vLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLWNvbG9yLTQvbXVsdGlwbHktbWF0cmljZXMuanNcblxuKiBTaW1wbGUgbWF0cml4IChhbmQgdmVjdG9yKSBtdWx0aXBsaWNhdGlvblxuICogV2FybmluZzogTm8gZXJyb3IgaGFuZGxpbmcgZm9yIGluY29tcGF0aWJsZSBkaW1lbnNpb25zIVxuICogQGF1dGhvciBMZWEgVmVyb3UgMjAyMCBNSVQgTGljZW5zZVxuICovXG4vLyBBIGlzIG0geCBuLiBCIGlzIG4geCBwLiBwcm9kdWN0IGlzIG0geCBwLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtdWx0aXBseU1hdHJpY2VzKEEsIEIpIHtcbiAgbGV0IG0gPSBBLmxlbmd0aDtcblxuICBpZiAoIUFycmF5LmlzQXJyYXkoQVswXSkpIHtcbiAgICAvLyBBIGlzIHZlY3RvciwgY29udmVydCB0byBbW2EsIGIsIGMsIC4uLl1dXG4gICAgQSA9IFtBXTtcbiAgfVxuXG4gIGlmICghQXJyYXkuaXNBcnJheShCWzBdKSkge1xuICAgIC8vIEIgaXMgdmVjdG9yLCBjb252ZXJ0IHRvIFtbYV0sIFtiXSwgW2NdLCAuLi5dXVxuICAgIEIgPSBCLm1hcCgoeCkgPT4gW3hdKTtcbiAgfVxuXG4gIGxldCBwID0gQlswXS5sZW5ndGg7XG4gIGxldCBCX2NvbHMgPSBCWzBdLm1hcCgoXywgaSkgPT4gQi5tYXAoKHgpID0+IHhbaV0pKTsgLy8gdHJhbnNwb3NlIEJcbiAgbGV0IHByb2R1Y3QgPSBBLm1hcCgocm93KSA9PlxuICAgIEJfY29scy5tYXAoKGNvbCkgPT4ge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJvdykpIHtcbiAgICAgICAgcmV0dXJuIGNvbC5yZWR1Y2UoKGEsIGMpID0+IGEgKyBjICogcm93LCAwKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJvdy5yZWR1Y2UoKGEsIGMsIGkpID0+IGEgKyBjICogKGNvbFtpXSB8fCAwKSwgMCk7XG4gICAgfSksXG4gICk7XG5cbiAgaWYgKG0gPT09IDEpIHtcbiAgICBwcm9kdWN0ID0gcHJvZHVjdFswXTsgLy8gQXZvaWQgW1thLCBiLCBjLCAuLi5dXVxuICB9XG5cbiAgaWYgKHAgPT09IDEpIHtcbiAgICByZXR1cm4gcHJvZHVjdC5tYXAoKHgpID0+IHhbMF0pOyAvLyBBdm9pZCBbW2FdLCBbYl0sIFtjXSwgLi4uXV1cbiAgfVxuXG4gIHJldHVybiBwcm9kdWN0O1xufTtcbiIsIi8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtY29sb3ItNC91dGlsdGllcy5qc1xuXG5jb25zdCB7IGdhbV9zUkdCLCBYWVpfdG9fbGluX3NSR0IsIEQ1MF90b19ENjUsIExhYl90b19YWVosIExDSF90b19MYWIgfSA9IHJlcXVpcmUoJy4vY29udmVyc2lvbnMnKTtcblxuZnVuY3Rpb24gTENIX3RvX3NSR0IoTENIKSB7XG4gIC8vIGNvbnZlcnQgYW4gYXJyYXkgb2YgQ0lFIExDSCB2YWx1ZXNcbiAgLy8gdG8gQ0lFIExhYiwgYW5kIHRoZW4gdG8gWFlaLFxuICAvLyBhZGFwdCBmcm9tIEQ1MCB0byBENjUsXG4gIC8vIHRoZW4gY29udmVydCBYWVogdG8gbGluZWFyLWxpZ2h0IHNSR0JcbiAgLy8gYW5kIGZpbmFsbHkgdG8gZ2FtbWEgY29ycmVjdGVkIHNSR0JcbiAgLy8gZm9yIGluLWdhbXV0IGNvbG9ycywgY29tcG9uZW50cyBhcmUgaW4gdGhlIDAuMCB0byAxLjAgcmFuZ2VcbiAgLy8gb3V0IG9mIGdhbXV0IGNvbG9ycyBtYXkgaGF2ZSBuZWdhdGl2ZSBjb21wb25lbnRzXG4gIC8vIG9yIGNvbXBvbmVudHMgZ3JlYXRlciB0aGFuIDEuMFxuICAvLyBzbyBjaGVjayBmb3IgdGhhdCA6KVxuXG4gIHJldHVybiBnYW1fc1JHQihYWVpfdG9fbGluX3NSR0IoRDUwX3RvX0Q2NShMYWJfdG9fWFlaKExDSF90b19MYWIoTENIKSkpKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBMQ0hfdG9fc1JHQixcbn07XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5pbXBvcnQgeyBMQ0hfdG9fc1JHQiB9IGZyb20gJy4uL2RyYWZ0cy5jc3N3Zy5vcmcvdXRpbGl0aWVzJztcbnZhciBERUZBVUxUX0FSR1MgPSB7XG4gICAgbDogMCxcbiAgICBjOiAwLFxuICAgIGg6IDAsXG4gICAgYTogMTAwLFxuICAgIGZvcmNlaW5HYW11dDogdHJ1ZSxcbiAgICBpc1ByZWNpc2U6IGZhbHNlLFxufTtcbmZ1bmN0aW9uIGFscGhhVG9TdHJpbmcoYSkge1xuICAgIGlmIChhID09PSB2b2lkIDApIHsgYSA9IDEwMDsgfVxuICAgIHJldHVybiBhIDwgMTAwID8gXCIgLyBcIi5jb25jYXQoYSwgXCIlXCIpIDogJyc7XG59XG5mdW5jdGlvbiBpc0xjaFdpdGhpblJnYihsLCBjLCBoKSB7XG4gICAgdmFyIHJnYiA9IExDSF90b19zUkdCKFsrbCwgK2MsICtoXSk7XG4gICAgdmFyIM61ID0gMC4wMDAwMDU7XG4gICAgcmV0dXJuIHJnYi5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgJiYgYiA+PSAwIC0gzrUgJiYgYiA8PSAxICsgzrU7IH0sIHRydWUpO1xufVxuZnVuY3Rpb24gZm9yY2VJbnRvR2FtdXQobCwgYywgaCwgaXNMY2hXaXRoaW4pIHtcbiAgICAvLyBNb3ZlcyBhbiBsY2ggY29sb3IgaW50byB0aGUgc1JHQiBnYW11dFxuICAgIC8vIGJ5IGhvbGRpbmcgdGhlIGwgYW5kIGggc3RlYWR5LFxuICAgIC8vIGFuZCBhZGp1c3RpbmcgdGhlIGMgdmlhIGJpbmFyeS1zZWFyY2hcbiAgICAvLyB1bnRpbCB0aGUgY29sb3IgaXMgb24gdGhlIHNSR0IgYm91bmRhcnkuXG4gICAgaWYgKGlzTGNoV2l0aGluKGwsIGMsIGgpKSB7XG4gICAgICAgIHJldHVybiB7IGw6IGwsIGM6IGMsIGg6IGgsIGlzV2l0aGluTGNoOiB0cnVlIH07XG4gICAgfVxuICAgIHZhciBoaUMgPSBjO1xuICAgIHZhciBsb0MgPSAwO1xuICAgIHZhciDOtSA9IDAuMDAwMTtcbiAgICBjIC89IDI7XG4gICAgLy8gLjAwMDEgY2hvc2VuIGZhaXJseSBhcmJpdHJhcmlseSBhcyBcImNsb3NlIGVub3VnaFwiXG4gICAgd2hpbGUgKGhpQyAtIGxvQyA+IM61KSB7XG4gICAgICAgIGlmIChpc0xjaFdpdGhpbihsLCBjLCBoKSkge1xuICAgICAgICAgICAgbG9DID0gYztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhpQyA9IGM7XG4gICAgICAgIH1cbiAgICAgICAgYyA9IChoaUMgKyBsb0MpIC8gMjtcbiAgICB9XG4gICAgcmV0dXJuIHsgbDogbCwgYzogYywgaDogaCwgaXNXaXRoaW5MY2g6IGZhbHNlIH07XG59XG5mdW5jdGlvbiBwZXJjZW50VG9IZXgocGVyY2VudGFnZSkge1xuICAgIHZhciBkZWNpbWFsVmFsdWUgPSBNYXRoLnJvdW5kKChwZXJjZW50YWdlICogMjU1KSAvIDEwMCk7XG4gICAgdmFyIGhleFZhbHVlID0gcGVyY2VudGFnZSA8IDcgPyAnMCcgKyBkZWNpbWFsVmFsdWUudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkgOiBkZWNpbWFsVmFsdWUudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgcmV0dXJuIGhleFZhbHVlO1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlUGVyY2VudCh2YWx1ZSwgaXNQcmVjaXNlKSB7XG4gICAgaWYgKGlzUHJlY2lzZSA9PT0gdm9pZCAwKSB7IGlzUHJlY2lzZSA9IHRydWU7IH1cbiAgICB2YXIgcmVzdWx0ID0gTWF0aC5yb3VuZCh2YWx1ZSAqIDEwMDAwKSAvIDEwMDtcbiAgICBpZiAoaXNQcmVjaXNlKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHJlc3VsdCk7XG59XG5mdW5jdGlvbiBnZXRSZ2JQZXJjZW50YWdlRnJvbUxjaChhcmdzKSB7XG4gICAgdmFyIHJlcXVlc3QgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgREVGQVVMVF9BUkdTKSwgYXJncyk7XG4gICAgdmFyIGxjaENvbG9yID0geyBsOiByZXF1ZXN0LmwsIGM6IHJlcXVlc3QuYywgaDogcmVxdWVzdC5oIH07XG4gICAgaWYgKHJlcXVlc3QuZm9yY2VpbkdhbXV0KSB7XG4gICAgICAgIHZhciByID0gZm9yY2VJbnRvR2FtdXQocmVxdWVzdC5sLCByZXF1ZXN0LmMsIHJlcXVlc3QuaCwgaXNMY2hXaXRoaW5SZ2IpO1xuICAgICAgICBsY2hDb2xvciA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBsY2hDb2xvciksIHIpO1xuICAgIH1cbiAgICB2YXIgcmVzID0gTENIX3RvX3NSR0IoW3JlcXVlc3QubCwgcmVxdWVzdC5jLCByZXF1ZXN0LmhdKTtcbiAgICByZXR1cm4geyB2YWx1ZTogcmVzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gY2FsY3VsYXRlUGVyY2VudChjLCByZXF1ZXN0LmlzUHJlY2lzZSk7IH0pLCBpc1dpdGhpblNSR0I6IGxjaENvbG9yLmlzV2l0aGluTGNoIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbGNoVG9IZXgoYXJncykge1xuICAgIHZhciByZXMgPSBnZXRSZ2JQZXJjZW50YWdlRnJvbUxjaChhcmdzKTtcbiAgICB2YXIgciA9IHBlcmNlbnRUb0hleChyZXMudmFsdWVbMF0pO1xuICAgIHZhciBnID0gcGVyY2VudFRvSGV4KHJlcy52YWx1ZVsxXSk7XG4gICAgdmFyIGIgPSBwZXJjZW50VG9IZXgocmVzLnZhbHVlWzJdKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogXCIjXCIuY29uY2F0KHIpLmNvbmNhdChnKS5jb25jYXQoYiksXG4gICAgICAgIGFscGhhOiBhcmdzLmEsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsY2hUb1JnYihhcmdzKSB7XG4gICAgdmFyIHJlcyA9IGdldFJnYlBlcmNlbnRhZ2VGcm9tTGNoKGFyZ3MpO1xuICAgIHZhciBzdHIgPSAncmdiKCcgKyByZXMudmFsdWUubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiBcIlwiLmNvbmNhdCh4LCBcIiVcIik7IH0pLmpvaW4oJyAnKSArIGFscGhhVG9TdHJpbmcoYXJncy5hKSArICcpJztcbiAgICByZXR1cm4geyB2YWx1ZTogcmVzLnZhbHVlLCBzdHJpbmc6IHN0ciB9O1xufVxuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJtdWx0aXBseU1hdHJpY2VzIiwiRDUwIiwibGluX3NSR0IiLCJSR0IiLCJtYXAiLCJ2YWwiLCJzaWduIiwiYWJzIiwiTWF0aCIsInBvdyIsImdhbV9zUkdCIiwicG9sYXJfcHJlbXVsdGlwbHkiLCJjb2xvciIsImFscGhhIiwiaHVlSW5kZXgiLCJjIiwiaSIsImxpbl9zUkdCX3RvX1hZWiIsInJnYiIsIlhZWl90b19saW5fc1JHQiIsIlhZWiIsImxpbl9QMyIsImdhbV9QMyIsImxpbl9QM190b19YWVoiLCJYWVpfdG9fbGluX1AzIiwibGluX1Byb1Bob3RvIiwiZ2FtX1Byb1Bob3RvIiwibGluX1Byb1Bob3RvX3RvX1hZWiIsIlhZWl90b19saW5fUHJvUGhvdG8iLCJsaW5fYTk4cmdiIiwiZ2FtX2E5OHJnYiIsImxpbl9hOThyZ2JfdG9fWFlaIiwiWFlaX3RvX2xpbl9hOThyZ2IiLCJsaW5fMjAyMCIsImkxIiwiaTIiLCJnYW1fMjAyMCIsImxpbl8yMDIwX3RvX1hZWiIsIlhZWl90b19saW5fMjAyMCIsIkQ2NV90b19ENTAiLCJENTBfdG9fRDY1IiwiWFlaX3RvX0xhYiIsImYiLCJ2YWx1ZSIsImNicnQiLCJMYWJfdG9fWFlaIiwiTGFiIiwiTGFiX3RvX0xDSCIsImh1ZSIsImF0YW4yIiwiUEkiLCJzcXJ0IiwiTENIX3RvX0xhYiIsIkxDSCIsImNvcyIsInNpbiIsIlhZWl90b19PS0xhYiIsIkxNUyIsIk9LTGFiX3RvX1hZWiIsIk9LTGFiIiwiTE1TbmwiLCJPS0xhYl90b19PS0xDSCIsIk9LTENIX3RvX09LTGFiIiwiT0tMQ0giLCJyZWN0YW5ndWxhcl9wcmVtdWx0aXBseSIsInJlY3Rhbmd1bGFyX3VuX3ByZW11bHRpcGx5IiwicG9sYXJfdW5fcHJlbXVsdGlwbHkiLCJoc2xfcHJlbXVsdGlwbHkiLCJBIiwiQiIsIm0iLCJsZW5ndGgiLCJBcnJheSIsImlzQXJyYXkiLCJ4IiwicCIsIkJfY29scyIsIl8iLCJwcm9kdWN0Iiwicm93IiwiY29sIiwicmVkdWNlIiwiYSIsIkxDSF90b19zUkdCIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJfX2Fzc2lnbiIsImFzc2lnbiIsInQiLCJzIiwibiIsImFyZ3VtZW50cyIsImFwcGx5IiwiREVGQVVMVF9BUkdTIiwibCIsImgiLCJmb3JjZWluR2FtdXQiLCJpc1ByZWNpc2UiLCJpc0xjaFdpdGhpblJnYiIsImIiLCJwZXJjZW50VG9IZXgiLCJwZXJjZW50YWdlIiwiZGVjaW1hbFZhbHVlIiwicm91bmQiLCJ0b1N0cmluZyIsInRvVXBwZXJDYXNlIiwiZ2V0UmdiUGVyY2VudGFnZUZyb21MY2giLCJhcmdzIiwicmVxdWVzdCIsImxjaENvbG9yIiwiaXNMY2hXaXRoaW4iLCJpc1dpdGhpbkxjaCIsImhpQyIsImxvQyIsImZvcmNlSW50b0dhbXV0IiwicmVzdWx0IiwiY2FsY3VsYXRlUGVyY2VudCIsImlzV2l0aGluU1JHQiIsImxjaFRvSGV4IiwicmVzIiwiZyIsImNvbmNhdCIsImxjaFRvUmdiIiwic3RyIiwiam9pbiIsInN0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=